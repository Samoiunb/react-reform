webpackJsonp([3],{11:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WrapInput=t.createTheme=t.ReformContext=t.Form=void 0;var o=r(55),i=n(o),a=r(56),l=n(a),s=r(58),u=n(s),f=r(57),c=n(f);t.Form=i.default,t.ReformContext=l.default,t.createTheme=u.default,t.WrapInput=c.default},16:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;t.default={required:{isValid:function(e){return 0===e||!!e&&("string"!=typeof e||e.trim().length>0)},errorMessage:function(){return"is required"},hintMessage:function(){return"is required"}},email:{isValid:function(e){return r.test(e)},errorMessage:function(){return"is not a valid email address"},hintMessage:function(){return"needs to be an email"}},minlength:{isValid:function(e,t){var r=t.arg;return(e||"").toString().length>=r},errorMessage:function(e,t){var r=t.arg,n=(e||"").toString().length;return"minimal length: "+n+"/"+r}},maxlength:{isValid:function(e,t){var r=t.arg;return(e||"").toString().length<=r},errorMessage:function(e,t){var r=t.arg,n=(e||"").toString().length;return"maximal length: "+n+"/"+r}},pattern:{isValid:function(e,t){var r=t.arg;return("string"==typeof r?new RegExp(r):r).test(e)},errorMessage:function(e){return"'"+e+"' is not valid"},hintMessage:function(e,t){var r=t.arg;return"needs to correspond to this pattern: "+r}}}},28:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=t.Select=t.Password=t.Textarea=t.Text=t.simpleInputWrapper=void 0;var i="/Users/danielberndt/workspace/react-reform/src/opt/inputs.js",a=r(2),l=n(a),s=r(11),u=t.simpleInputWrapper=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.defaultProps,a=r.extractValueFromOnChange,u=void 0===a?function(e){return e}:a;return function(r){return l.default.createElement(s.WrapInput,{type:e,directProps:r,__source:{fileName:i,lineNumber:12},__self:void 0},function(e){var r=e.value,a=e.themeProps,s=a.onChange,f=o(a,["onChange"]);return l.default.createElement(t,Object.assign({},n,{value:r||"",onChange:function(e){return s(u(e))}},f,{__source:{fileName:i,lineNumber:13},__self:void 0}))})}};t.Text=u("Text","input",{defaultProps:{type:"text"},extractValueFromOnChange:function(e){return e.target.value}}),t.Textarea=u("Textarea","textarea",{extractValueFromOnChange:function(e){return e.target.value}}),t.Password=u("Password","input",{defaultProps:{type:"password"},extractValueFromOnChange:function(e){return e.target.value}}),t.Select=u("Select","select",{extractValueFromOnChange:function(e){return e.target.value}}),t.Checkbox=function(e){return l.default.createElement(s.WrapInput,{type:"Checkbox",directProps:e,__source:{fileName:i,lineNumber:23},__self:void 0},function(e){var t=e.value,r=e.themeProps,n=r.onChange,a=o(r,["onChange"]);return l.default.createElement("input",Object.assign({type:"checkbox",checked:t||!1,onChange:function(e){return n(e.target.checked)}},a,{__source:{fileName:i,lineNumber:24},__self:void 0}))})}},31:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0});var i="/Users/danielberndt/workspace/react-reform/doc-engine/src/comps/default-theme.js",a=r(2),l=n(a),s=r(11);t.default=(0,s.createTheme)({renderForm:function(e,t,r){var n=r.directProps;return l.default.createElement(e,Object.assign({},n,{__source:{fileName:i,lineNumber:6},__self:void 0}),l.default.createElement("div",{__source:{fileName:i,lineNumber:7},__self:void 0},t),l.default.createElement("button",{__source:{fileName:i,lineNumber:8},__self:void 0},"Submit"))},renderField:function(e,t){var r=t.directProps,n=r.label,a=o(r,["label"]),s=t.name,u=t.validations,f=t.id,c=u.filter(function(e){var t=e.isValid;return t===!1}).map(function(e){var t=e.errorMessage,r=e.name;return l.default.createElement("span",{key:r,__source:{fileName:i,lineNumber:14},__self:void 0},t," ")});return l.default.createElement("div",{__source:{fileName:i,lineNumber:16},__self:void 0},l.default.createElement("label",{htmlFor:f,__source:{fileName:i,lineNumber:17},__self:void 0},n||s),l.default.createElement(e,Object.assign({id:f},a,{__source:{fileName:i,lineNumber:18},__self:void 0})),c.length>0&&l.default.createElement("span",{__source:{fileName:i,lineNumber:19},__self:void 0},c))}})},55:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f="/Users/danielberndt/workspace/react-reform/src/Form.js",c=r(2),d=n(c),m=1,h=function(e,t){var r=t.reformForm,n=e.children,o=s(e,["children"]);return d.default.createElement("form",Object.assign({},o,{onSubmit:r.onSubmit,__source:{fileName:f,lineNumber:8},__self:void 0}),n)};h.contextTypes={reformForm:d.default.PropTypes.object};var _=function(e){function t(){var e,r,n,o;i(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),p.call(n),o=r,a(n,o)}return l(t,e),u(t,[{key:"getChildContext",value:function(){var e=this;return{reformForm:{getRestProps:this.getRestProps,onSubmit:this.handleSubmit,getValue:this.getValue,setValue:this.setValue,notifyOfValidationResults:this.notifyOfValidationResults,onFocusField:this.handleFocusField,onBlurField:this.handleBlurField,theme:this.getTheme(),isDirty:function(t){return e.state.fields[t]&&e.state.fields[t].dirty||!1},isTouched:function(t){return e.state.fields[t]&&e.state.fields[t].touched||!1},isFocused:function(t){return e.state.fields[t]&&e.state.fields[t].focused||!1},registerFocusHook:function(t,r){return e.focusHooks[t]=r},unregisterFocusHook:function(t){delete e.focusHooks[t]},serverErrors:this.state.serverErrors,formId:this.formId,status:this.state.status}}}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0}},{key:"ensureFieldWith",value:function(e,t){if(!this.isUnmounted){var r=this.state.fields,n=this.props.initialModel,o=r[e];if(!o||this.resetInProgress)r[e]=Object.assign({value:n[e]||null,validations:[],dirty:!1,touched:!1,focused:!1},t),this.setState({fields:r});else{var i=Object.keys(t).some(function(e){return o[e]!==t[e]});i&&(r[e]=Object.assign({},o,t),this.setState({fields:r}))}}}},{key:"getTheme",value:function(){var e=this.props.theme;return e&&e.$isReformTheme?e:this.context.reformRoot.getTheme(e)}},{key:"reset",value:function(){var e=this;this.resetInProgress=!0,this.setState({fields:{}},function(){return e.resetInProgress=!1})}},{key:"focusField",value:function(e){this.focusHooks[e]()}},{key:"checkForErrors",value:function(){var e=this.state.fields,t=null,r=!Object.keys(e).every(function(r){return!!e[r].validations.every(function(e){return e.isValid===!0})||(t=r,!1)});return{hasErrors:r,firstInvalidFieldName:t}}},{key:"render",value:function(){var e=this.props.children,t=this.state,r=t.fields,n=t.status,o=t.serverErrors,i=Object.keys(r).reduce(function(e,t){return e[t]=r[t].validations,e},{}),a=!this.checkForErrors().hasErrors;return this.getTheme().renderForm(h,e,{directProps:this.getRestProps(),isValid:a,validationsPerField:i,status:n,submitForm:this.handleSubmit,globalErrors:o.$global})}}]),t}(d.default.Component);_.contextTypes={reformRoot:d.default.PropTypes.object},_.childContextTypes={reformForm:d.default.PropTypes.object.isRequired},_.propTypes={children:d.default.PropTypes.node.isRequired,theme:d.default.PropTypes.oneOfType([d.default.PropTypes.string,d.default.PropTypes.object]).isRequired,onSubmit:d.default.PropTypes.func.isRequired,model:d.default.PropTypes.object,initialModel:d.default.PropTypes.object,onFieldChange:d.default.PropTypes.func},_.defaultProps={model:null,initialModel:{},theme:"default",onFieldChange:function(){}};var p=function(){var e=this;this.state={fields:{},serverErrors:{$global:[]},status:"unsubmitted"},this.isUnmounted=!1,this.focusHooks={},this.formId=m++,this.getRestProps=function(){var t=e.props,r=(t.theme,t.children,t.onSubmit,t.model,t.initialModel,t.onFieldChange,s(t,["theme","children","onSubmit","model","initialModel","onFieldChange"]));return r},this.getValue=function(t){var r=e.props,n=r.model,o=r.initialModel,i=e.state.fields;return n?n[t]:i[t]?i[t].value:void 0!==o[t]?o[t]:null},this.setValue=function(t,r){var n=e.props,o=n.model,i=n.onFieldChange;o?i(t,r)!==!1&&e.ensureFieldWith(t,{dirty:!0}):e.ensureFieldWith(t,{value:r,dirty:!0})},this.getAllValues=function(){var t=e.props,r=t.model,n=t.initialModel,o=e.state.fields;return r?r:Object.assign({},n,Object.keys(o).reduce(function(e,t){return e[t]=o[t].value,e},{}))},this.notifyOfValidationResults=function(t,r){var n=e.state.fields,o=n[t]&&n[t].validations;if(o&&o.length===r.length){var i=o.every(function(e,t){var n=r[t];return e.name===n.name&&e.isValid===n.isValid&&e.errorMessage===n.errorMessage&&e.hintMessage===n.hintMessage});if(i)return}setTimeout(function(){return e.ensureFieldWith(t,{validations:r})})},this.handleFocusField=function(t){e.ensureFieldWith(t,{focused:!0,touched:!0})},this.handleBlurField=function(t){e.ensureFieldWith(t,{focused:!1})},this.handleAsyncSuccess=function(){e.isUnmounted||(e.reset(),e.setState({serverErrors:{$global:[]},status:"success"}))},this.handleAsyncError=function(t){if(!e.isUnmounted){var r=e.state.fields;if(t instanceof Error)throw setTimeout(function(){console.error("onSubmit threw:",t)}),t;if(!e.isUnmounted){var n={$global:[]};"string"==typeof t||d.default.isValidElement(t)?n.$global.push(t):!function(){var i=!1;Object.keys(t).forEach(function(a){r[a]?(n[a]={isValid:!1,errorMessage:t[a],hintMessage:t[a],name:"server"},i||(e.focusField(a),i=!0)):n.$global.push(o({},a,t[a]))})}(),e.setState({serverErrors:n,status:"postSubmitFail"})}}},this.handleSubmit=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t&&"function"==typeof t.preventDefault&&t.preventDefault();var i=e.checkForErrors(),a=i.hasErrors,l=i.firstInvalidFieldName;if(a)e.setState({status:"preSubmitFail"}),e.focusField(l);else{var s;e.setState({serverErrors:{$global:[]}});var u=(s=e.props).onSubmit.apply(s,[e.getAllValues(),t].concat(n));u&&"function"==typeof u.then?(e.setState({status:"pending"}),u.then(e.handleAsyncSuccess,e.handleAsyncError)):(e.reset(),e.setState({status:"UNCERTAIN STATUS"}))}}};t.default=_},56:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(2),u=n(s),f=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={validationVariants:r.getVariants(e.validations)},r}return a(t,e),l(t,[{key:"getChildContext",value:function(){var e=this;return{reformRoot:{getTheme:function(t){var r=e.props.themes[t];if(!r)throw new Error("No theme with name '"+t+"'!");return r},validationVariants:this.state.validationVariants}}}}]),l(t,[{key:"componentWillReceiveProps",value:function(e){e.validations!==this.props.validations&&this.setState({validationVariants:this.getVariants(e.validations)})}},{key:"getVariants",value:function(e){return Object.keys(e).reduce(function(t,r){var n={name:r,rule:e[r]};return t["is-"+r]=n,t["has-"+r]=n,t},{})}},{key:"render",value:function(){return this.props.children}}]),t}(u.default.Component);f.childContextTypes={reformRoot:u.default.PropTypes.object.isRequired},f.propTypes={children:u.default.PropTypes.element.isRequired,themes:u.default.PropTypes.object.isRequired,validations:u.default.PropTypes.object.isRequired},t.default=f},57:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(2),c=n(f),d=function(e){return function(t){function r(t){a(this,r);var n=l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return n.handleChange=function(t,r){var n="function"==typeof t?t(e.state.value):t;r&&r(n),e.context.reformForm.setValue(e.props.directProps.name,n)},n.handleFocus=function(t,r){r&&r(t),e.context.reformForm.onFocusField(e.props.directProps.name)},n.handleBlur=function(t,r){r&&r(t),e.context.reformForm.onBlurField(e.props.directProps.name)},e.shouldPreventFocusAfterFail=function(){return n.props.dontFocusAfterFail},n}return s(r,t),u(r,[{key:"render",value:function(){var t=this,r=this.props,n=r.onChange,o=r.onFocus,a=r.onBlur,l=(r.dontFocusAfterFail,i(r,["onChange","onFocus","onBlur","dontFocusAfterFail"])),s=e.props.children,u=e.state.value;return s.call(e,{value:u,themeProps:Object.assign({onChange:function(e){return t.handleChange(e,n)},onFocus:function(e){return t.handleFocus(e,o)},onBlur:function(e){return t.handleBlur(e,a)},ref:function(t){return e.registeredNode=t}},l)})}}]),r}(c.default.Component)},m=function(e){function t(e,r){a(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));n.revalidateHook=function(){n.setState(n.prepareState(n.state.value,n.props,n.context))},n.registeredNode=null,n.scopedValidators={};var o=n.context.reformForm.getValue(e.directProps.name);return n.state=n.prepareState(o,e,r),n.fieldComponent=d(n),n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.context.reformForm.registerFocusHook(this.props.directProps.name,function(){return e.props.focusFn.call(e,e.registeredNode)})}},{key:"componentWillReceiveProps",value:function(e,t){var r=this.context.reformForm.getValue(e.directProps.name);this.setState(this.prepareState(r,e,t))}},{key:"componentWillUnmount",value:function(){this.context.reformForm.unregisterFocusHook(this.props.directProps.name)}},{key:"getMessages",value:function(e,t,r,n,o,i){var a=e.reformForm,l=a.theme.validationLabels[t],s={name:o,arg:i};return{errorMessage:(l&&l.errorMessage||r.errorMessage)(n,s),hintMessage:(l&&l.hintMessage||r.hintMessage||r.errorMessage)(n,s)}}},{key:"prepareState",value:function(e,t,r){var n=this,o=r.reformRoot,i=r.reformForm,a=[],l={};for(var s in t.directProps)if(s in o.validationVariants){var u=o.validationVariants[s],f=u.name,c=u.rule;"function"==typeof c&&(c=this.scopedValidators[f]=this.scopedValidators[f]||c()),a.push({validator:{name:f,rule:c},arg:t.directProps[s]})}else l[s]=t.directProps[s];var d=a.map(function(o){var a=o.validator,l=a.name,s=a.rule,u=o.arg;return Object.assign({name:l,isValid:s.isValid(e,{arg:u,getValue:i.getValue},n.revalidateHook)},n.getMessages(r,l,s,e,t.directProps.name,u))});return i.notifyOfValidationResults(t.directProps.name,d),{nonValidationRestProps:l,validations:d,value:e}}},{key:"render",value:function(){var e=this.context.reformForm,t=e.theme,r=e.isDirty,n=e.isTouched,a=e.isFocused,l=e.onSubmit,s=e.serverErrors,u=e.formId,f=e.status,c=e.getRestProps,d=this.state,m=d.nonValidationRestProps,h=d.validations,_=this.props,p=(_.children,_.directProps.name),b=i(_,["children","directProps"]);return t.renderField(this.fieldComponent,{directProps:m,wrapperProps:b,directFormProps:c(),validations:s[p]?[].concat(o(h),[s[p]]):h,name:p,id:"form"+u+"-"+p,isDirty:r(p),isTouched:n(p),isFocused:a(p),submitForm:l,formStatus:f})}}]),t}(c.default.Component);m.contextTypes={reformForm:c.default.PropTypes.object,reformRoot:c.default.PropTypes.object},m.propTypes={children:c.default.PropTypes.func.isRequired,directProps:c.default.PropTypes.shape({name:c.default.PropTypes.string.isRequired}).isRequired,focusFn:c.default.PropTypes.func.isRequired},m.defaultProps={focusFn:function(e){this.shouldPreventFocusAfterFail&&this.shouldPreventFocusAfterFail()||e.focus()}},t.default=m},58:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.renderForm,r=e.renderField,n=e.validationLabels,o=void 0===n?{}:n;if(!t)throw new Error('create Theme needs "renderForm" function');if(!r)throw new Error('create Theme needs "renderField" function');return{renderForm:t,renderField:r,validationLabels:o,$isReformTheme:!0}}},145:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="/Users/danielberndt/workspace/react-reform/doc-engine/src/pages/docs/Form.js",s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(2),f=n(u),c=r(22),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return f.default.createElement(c.Scaffold,{__source:{fileName:l,lineNumber:8},__self:this},f.default.createElement(c.H1,{mb5:!0,__source:{fileName:l,lineNumber:9},__self:this},"Form"),f.default.createElement(c.Section,{__source:{fileName:l,lineNumber:10},__self:this},f.default.createElement(c.P,{__source:{fileName:l,lineNumber:11},__self:this},"Let's have a look of what using your themes and writing some actual forms looks like.")),f.default.createElement(c.Section,{__source:{fileName:l,lineNumber:13},__self:this},f.default.createElement(c.H2,{__source:{fileName:l,lineNumber:14},__self:this},"Controlled vs uncontrolled forms"),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:15},__self:this},"When writing your form you need to decide whether your form should be controlled or uncontrolled. I.e do you need to keep track of all the form changes via ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:15},__self:this},"onFieldChange")," and inform the form via a changed ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:15},__self:this},"model"),"? Or is it sufficient to maybe provide an ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:15},__self:this},"initialModel")," and only get to know the field values in the ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:15},__self:this},"onSubmit"),"handler?"),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:16},__self:this},"In most cases the less complex uncontrolled forms will be fine. But sometimes you need to be aware of the field values to change the render output accordingly. This is when controlled forms come in handy."),f.default.createElement(c.H3,{__source:{fileName:l,lineNumber:17},__self:this},"Uncontrolled form example"),f.default.createElement(c.Code,{__source:{fileName:l,lineNumber:18},__self:this},r(486)),f.default.createElement(c.AppliedCode,{comp:r(358).default,__source:{fileName:l,lineNumber:19},__self:this}),f.default.createElement(c.H3,{__source:{fileName:l,lineNumber:20},__self:this},"Controlled form example"),f.default.createElement(c.Code,{__source:{fileName:l,lineNumber:21},__self:this},r(485)),f.default.createElement(c.AppliedCode,{comp:r(357).default,__source:{fileName:l,lineNumber:22},__self:this})),f.default.createElement(c.Section,{__source:{fileName:l,lineNumber:24},__self:this},f.default.createElement(c.H2,{__source:{fileName:l,lineNumber:25},__self:this},"Form props"),f.default.createElement(c.H3,{__source:{fileName:l,lineNumber:26},__self:this},f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:26},__self:this},"theme: (string|themeObj)")),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:27},__self:this},"Defaults to ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:27},__self:this},"'default'"),". You may either pass a string referencing a theme name that you defined via ",f.default.createElement(c.Link,{to:"/docs/reform-context/",__source:{fileName:l,lineNumber:27},__self:this},"ReformContext")," or you may pass a theme object created via ",f.default.createElement(c.Link,{to:"/docs/themes/",__source:{fileName:l,lineNumber:27},__self:this},f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:27},__self:this},"createTheme")),"."),f.default.createElement(c.H3,{__source:{fileName:l,lineNumber:28},__self:this},f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:28},__self:this},"onSubmit: fn(data, event) => (Promise?)")),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:29},__self:this},"The ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:29},__self:this},"onSubmit")," handler will be called once the form was submitted and all fields' validations returned ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:29},__self:this},"true"),"."),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:30},__self:this},"The data is an object with the fields' ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:30},__self:this},"name"),"s as keys and their values as the value."),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:31},__self:this},"You may return a promise to indicate to the theme that there's no result yet. The ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:31},__self:this},"status")," within the ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:31},__self:this},"renderFormFn")," will be ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:31},__self:this},"'pending'"),"."),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:32},__self:this},"If the promise gets resolved the form gets reset and a ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:32},__self:this},"'success'")," status will be set."),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:33},__self:this},"You may also reject the promise. You have two options. If you know the field(s) that led to the error you may reject like this: ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:33},__self:this},"reject({fieldName: 'is not unique'})"),". If the error is more generic, reject with a string or react element: ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:33},__self:this},"reject(<span>the server responded with a <b>{code}</b> message</span>)")),f.default.createElement(c.H3,{__source:{fileName:l,lineNumber:34},__self:this},f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:34},__self:this},"initialModel")," (optional) ",f.default.createElement("i",{__source:{fileName:l,lineNumber:34},__self:this},"uncontrolled forms only.")),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:35},__self:this},"You may pass in initial data in the form of an object mapping field name to values. These values will be used when the form is mounted or reset."),f.default.createElement(c.H3,{__source:{fileName:l,lineNumber:36},__self:this},f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:36},__self:this},"model")," ",f.default.createElement("i",{__source:{fileName:l,lineNumber:36},__self:this},"controlled forms only.")),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:37},__self:this},"Passing a model prop signals to the form that it's an controlled form. It expects an object mapping field name to values. Field values won't be changed unless you explicitely change the ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:37},__self:this},"model"),"."),f.default.createElement(c.H3,{__source:{fileName:l,lineNumber:38},__self:this},f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:38},__self:this},"onFieldChange: fn(fieldName, value)")," ",f.default.createElement("i",{__source:{fileName:l,lineNumber:38},__self:this},"controlled forms only.")),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:39},__self:this},"This handler allows you to react to fieldChange request. Most typically it looks like the one form the controlled form example above."),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:40},__self:this},"You may return ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:40},__self:this},"false")," to indicate that no change has happened. This will prevent the input from becoming ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:40},__self:this},"isDirty"),"."),f.default.createElement(c.H3,{__source:{fileName:l,lineNumber:41},__self:this},f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:41},__self:this},"children")),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:42},__self:this},"Pass your inputs here. It's perfectly fine to pass in non-inputs here as well. So a form like this will work:"),f.default.createElement(c.Code,{__source:{fileName:l,lineNumber:43},__self:this},'\n            <Form onSubmit={this.handleSubmit} theme="dark">\n              <Text name="name" is-required/>\n              <hr/>\n              <button type="button" onClick={this.toggleSpecial}>\n                toggle special\n              </button>\n              {this.state.showSpecial && (\n                <div className="special">\n                  <Text name="price" is-required/>\n                </div>\n              )}\n            </Form>\n          ')),f.default.createElement(c.Section,{__source:{fileName:l,lineNumber:58},__self:this},f.default.createElement(c.H2,{__source:{fileName:l,lineNumber:59},__self:this},"Form instance methods"),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:60},__self:this},"You may attach a ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:60},__self:this},"ref")," prop to the form. This ref officially supports some methods you might want to take advantage of."),f.default.createElement(c.H3,{__source:{fileName:l,lineNumber:61},__self:this},f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:61},__self:this},"reset()")),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:62},__self:this},"Sets the form inputs to an untouched state."),f.default.createElement(c.H3,{__source:{fileName:l,lineNumber:63},__self:this},f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:63},__self:this},"checkForErrors() => ({hasErrors, firstInvalidFieldName})")),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:64},__self:this},"In case you'd like to validate the form without submitting it. Call this method. You can use the ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:64},__self:this},"firstInvalidFieldName")," to focus the relevant input (see below)."),f.default.createElement(c.H3,{__source:{fileName:l,lineNumber:65},__self:this},f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:65},__self:this},"focusField(fieldName)")),f.default.createElement(c.P,{__source:{fileName:l,lineNumber:66},__self:this},"Calls focuses the input by executing the ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:66},__self:this},"focusFn(node)")," method according to it's definition on the ",f.default.createElement(c.Code.Inline,{__source:{fileName:l,lineNumber:66},__self:this},"WrapInput")," component.")))}}]),t}(f.default.Component);t.default=d},357:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="/Users/danielberndt/workspace/react-reform/doc-engine/src/comps/recipes/form-controlled.js",u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,
n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(2),c=n(f),d=r(11),m=r(16),h=n(m),_=r(28),p=r(31),b=n(p),v=function(e){function t(){var e,r,n,l;i(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={model:{firstName:null}},n.handleSubmit=function(e){console.log("data",e)},n.handleFieldChange=function(e,t){n.setState({model:Object.assign({},n.state.model,o({},e,t))})},l=r,a(n,l)}return l(t,e),u(t,[{key:"render",value:function(){var e=this.state.model;return c.default.createElement(d.ReformContext,{themes:{default:b.default},validations:h.default,__source:{fileName:s,lineNumber:25},__self:this},c.default.createElement("div",{__source:{fileName:s,lineNumber:26},__self:this},c.default.createElement("h4",{__source:{fileName:s,lineNumber:27},__self:this},"Hello ",e.firstName||"there","!"),c.default.createElement(d.Form,{model:e,onFieldChange:this.handleFieldChange,onSubmit:this.handleSubmit,__source:{fileName:s,lineNumber:28},__self:this},c.default.createElement(_.Text,{name:"firstName",label:"First Name","is-required":!0,__source:{fileName:s,lineNumber:32},__self:this}))))}}]),t}(c.default.Component);t.default=v},358:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="/Users/danielberndt/workspace/react-reform/doc-engine/src/comps/recipes/form-uncontrolled.js",s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(2),f=n(u),c=r(11),d=r(16),m=n(d),h=r(28),_=r(31),p=n(_),b=function(e){function t(){var e,r,n,a;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.handleSubmit=function(e){console.log("data",e)},a=r,i(n,a)}return a(t,e),s(t,[{key:"render",value:function(){return f.default.createElement(c.ReformContext,{themes:{default:p.default},validations:m.default,__source:{fileName:l,lineNumber:15},__self:this},f.default.createElement("div",{__source:{fileName:l,lineNumber:16},__self:this},f.default.createElement("h4",{__source:{fileName:l,lineNumber:17},__self:this},"Form"),f.default.createElement(c.Form,{onSubmit:this.handleSubmit,__source:{fileName:l,lineNumber:18},__self:this},f.default.createElement(h.Text,{name:"firstName",label:"First Name","is-required":!0,__source:{fileName:l,lineNumber:19},__self:this}))))}}]),t}(f.default.Component);t.default=b},485:function(e,t){e.exports="import React from 'react'\nimport {Form, ReformContext} from 'react-reform'\nimport defaultValidations from 'react-reform/opt/validations'\nimport {Text} from 'react-reform/opt/inputs'\nimport defaultTheme from '../default-theme'\n\nexport default class ExampleForm extends React.Component {\n\n  state = {\n    model: {firstName: null}\n  }\n\n  handleSubmit = (data) => {\n    console.log('data', data)\n  }\n\n  handleFieldChange = (fieldName, value) => {\n    this.setState({model: {...this.state.model, [fieldName]: value}})\n  }\n\n  render() {\n    const {model} = this.state\n\n    return (\n      <ReformContext themes={{default: defaultTheme}} validations={defaultValidations}>\n        <div>\n          <h4>Hello {model.firstName || 'there'}!</h4>\n          <Form model={model}\n            onFieldChange={this.handleFieldChange}\n            onSubmit={this.handleSubmit}\n          >\n            <Text name=\"firstName\" label=\"First Name\" is-required/>\n          </Form>\n        </div>\n      </ReformContext>\n    )\n  }\n}\n"},486:function(e,t){e.exports="import React from 'react'\nimport {Form, ReformContext} from 'react-reform'\nimport defaultValidations from 'react-reform/opt/validations'\nimport {Text} from 'react-reform/opt/inputs'\nimport defaultTheme from '../default-theme'\n\nexport default class ExampleForm extends React.Component {\n\n  handleSubmit = (data) => {\n    console.log('data', data)\n  }\n\n  render() {\n    return (\n      <ReformContext themes={{default: defaultTheme}} validations={defaultValidations}>\n        <div>\n          <h4>Form</h4>\n          <Form onSubmit={this.handleSubmit}>\n            <Text name=\"firstName\" label=\"First Name\" is-required/>\n          </Form>\n        </div>\n      </ReformContext>\n    )\n  }\n}\n"}});
//# sourceMappingURL=3-91ce2.chunk.js.map