<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/favicon.ico?fd73a6eb">
    <title>React Reform</title>
  <style>.css-1w9ly57,.css-z3499g,[data-css-1w9ly57],[data-css-z3499g]{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex}.css-z3499g,[data-css-z3499g]{display:flex;min-height:100vh}@media (max-width:750px){.css-z3499g,[data-css-z3499g]{-webkit-flex-direction:column;-ms-flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}}.css-1w9ly57,[data-css-1w9ly57]{-webkit-flex:200px 1 0;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-box-align:end;-ms-flex-align:end;-ms-flex-direction:column;-webkit-flex-direction:column;-webkit-align-items:flex-end;-ms-flex:200px 1 0;flex-direction:column;align-items:flex-end;background-color:#30A783;flex:200px 1 0;display:flex;padding:11.7rem 2rem 2rem}.css-17mp4qs,.css-y7m25l,[data-css-17mp4qs],[data-css-y7m25l]{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex}@media (max-width:750px){.css-1w9ly57,[data-css-1w9ly57]{-webkit-flex:initial;-ms-flex:initial;-webkit-align-items:center;-ms-flex-align:center;-webkit-box-align:center;padding:1rem;flex:initial;align-items:center}}.css-17mp4qs,[data-css-17mp4qs]{-webkit-flex-direction:column;-ms-flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal;display:flex;padding-top:4rem;flex-direction:column}@media (max-width:750px){.css-17mp4qs,[data-css-17mp4qs]{-webkit-align-items:center;-webkit-box-pack:justify;-ms-flex-pack:distribute;-webkit-box-align:center;-ms-flex-align:center;-webkit-flex-direction:row;-ms-flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;-webkit-box-lines:multiple;-webkit-justify-content:space-around;-webkit-box-orient:horizontal;-webkit-box-direction:normal;padding:0;justify-content:space-around;align-items:center;flex-wrap:wrap;flex-direction:row}}.css-1344q9u,[data-css-1344q9u]{-webkit-transition-property:color;display:inline-block;color:rgba(255,255,255,.8);font-weight:700;margin-bottom:2rem;text-align:right;font-size:1rem;transition-property:color;border-right-style:solid;border-width:.25rem;line-height:1.25;border-color:transparent;padding-right:1rem}.css-1344q9u:hover,[data-css-1344q9u]:hover{color:#fff}@media (max-width:750px){.css-1344q9u,[data-css-1344q9u]{-webkit-flex-direction:row;-ms-flex-direction:row;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;padding:.5rem 1rem;margin:0;border-right-style:none;border-bottom-style:solid;text-align:center}}.css-y7m25l,[data-css-y7m25l]{-webkit-flex:800px 4 1;-ms-flex:800px 4 1;display:flex;flex:800px 4 1;min-width:1px;padding:8rem 4rem 2rem}@media (max-width:750px){.css-y7m25l,[data-css-y7m25l]{-webkit-flex:initial;-ms-flex:initial;padding:2rem 1rem;flex:initial}}.css-1s9imjh,[data-css-1s9imjh]{-webkit-flex-direction:column;-ms-flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;width:100%;max-width:800px;margin-left:auto;margin-right:auto;flex-direction:column}.css-bo9myk,[data-css-bo9myk]{display:block;margin-bottom:1rem;font-size:1rem;color:rgba(0,0,0,.8);line-height:1.5}.css-1psjutm,[data-css-1psjutm]{display:block;color:rgba(0,0,0,.4);margin-top:auto;padding-top:4rem;font-size:.875rem}.css-17m7gag,[data-css-17m7gag]{-webkit-transition-property:color;display:inline-block;transition-property:color;color:rgba(0,0,0,.6);font-weight:700}.css-17m7gag:hover,[data-css-17m7gag]:hover{color:#006C71}.css-b8q1ak,[data-css-b8q1ak]{-webkit-transition-property:color;display:inline-block;color:#fff;font-weight:700;margin-bottom:0;text-align:right;font-size:1rem;transition-property:color;border-right-style:solid;border-width:.25rem;line-height:1.25;border-color:#fff;padding-bottom:1rem;padding-right:1rem}.css-b8q1ak:hover,[data-css-b8q1ak]:hover{color:#fff}@media (max-width:750px){.css-b8q1ak,[data-css-b8q1ak]{-webkit-flex-direction:row;-ms-flex-direction:row;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;padding:.5rem 1rem;margin:0;border-right-style:none;border-bottom-style:solid;text-align:center}}.css-1lt3m08,.css-1v1144l,[data-css-1lt3m08],[data-css-1v1144l]{padding-top:.5rem;padding-bottom:.5rem;text-align:right;border-right-style:solid;border-width:.25rem;font-size:.875rem}.css-39blfr,[data-css-39blfr]{-webkit-flex-direction:column;-ms-flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;margin-bottom:.5rem;flex-direction:column}@media (max-width:750px){.css-39blfr,[data-css-39blfr]{display:none}}.css-1v1144l,[data-css-1v1144l]{-webkit-transition-property:border-color,color;display:inline-block;color:rgba(255,255,255,.8);transition-property:border-color,color;padding-right:1rem;border-color:rgba(255,255,255,.3)}.css-1v1144l:hover,[data-css-1v1144l]:hover{color:#fff;border-color:rgba(255,255,255,.9)}.css-163h4rl,[data-css-163h4rl]{display:block;margin-bottom:8rem}.css-1q5pvju,[data-css-1q5pvju]{-webkit-transition-property:color;display:inline-block;transition-property:color;color:#30A783;font-weight:700}.css-1q5pvju:hover,[data-css-1q5pvju]:hover{color:#006C71}.css-1qxqrcx,[data-css-1qxqrcx]{display:inline;padding-left:.25rem;padding-right:.25rem;background-color:rgba(0,0,0,.05)}.css-1lt3m08,[data-css-1lt3m08]{-webkit-transition-property:border-color,color;display:inline-block;color:#fff;transition-property:border-color,color;padding-right:1rem;border-color:#fff}.css-1lt3m08:hover,[data-css-1lt3m08]:hover{color:#fff;border-color:rgba(255,255,255,.9)}.css-187qpze,[data-css-187qpze]{display:block;font-size:1.5rem;font-weight:700;color:rgba(0,0,0,.8);line-height:1.25;margin-bottom:4rem}.css-13d4kty,.css-1div3xm,[data-css-13d4kty],[data-css-1div3xm]{font-weight:700;color:rgba(0,0,0,.8);line-height:1.25;margin-bottom:1rem;display:block}.css-1div3xm,[data-css-1div3xm]{font-size:1.25rem}.css-13d4kty,[data-css-13d4kty]{font-size:1rem}.css-1jwdnnb,[data-css-1jwdnnb]{margin-left:-1rem;display:block;margin-bottom:2rem;margin-right:-1rem;background-color:rgba(0,0,0,.05);color:rgba(0,0,0,.7);font-size:.875rem;line-height:1.5;overflow-x:auto;padding:.5rem 1rem}@media (max-width:750px){.css-1jwdnnb,[data-css-1jwdnnb]{font-size:.7rem;line-height:1.75}}/*! normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;box-sizing:border-box;transition-duration:.15s;transition-timing-function:ease-out}main,section{display:block}h1{font-size:2em}code,pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects;color:inherit;text-decoration:none}a:active,a:hover{outline-width:0}b{font-weight:inherit;font-weight:bolder}input,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}input{overflow:visible}[type=reset],[type=submit],html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:ButtonText dotted 1px}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}[hidden]{display:none}*,:after,:before{box-sizing:inherit;transition-duration:inherit;transition-timing-function:inherit;transition-property:none}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}h1,h2,h3,h4,h5,h6,p,pre{margin:0;padding:0}</style></head>
  <body>
    <div id="app"><div data-css-z3499g=""><div data-css-1w9ly57=""><div><div><div data-css-17mp4qs=""><a data-css-1344q9u="" href="/">Home</a><a data-css-1344q9u="" href="/getting-started/">Getting Started</a><a data-css-1344q9u="" href="/recipes/">Recipes</a><a data-css-b8q1ak="" href="/docs/">Api Docs</a><div data-css-39blfr=""><a data-css-1v1144l="" href="/docs/reform-context/">ReformContext</a><a data-css-1v1144l="" href="/docs/themes/">Themes</a><a data-css-1lt3m08="" href="/docs/validations/">Validations</a><a data-css-1v1144l="" href="/docs/wrap-input/">WrapInput</a><a data-css-1v1144l="" href="/docs/form/">Form</a><a data-css-1v1144l="" href="/docs/optional/">Optional validations and inputs</a></div></div></div></div></div><div data-css-y7m25l=""><div data-css-1s9imjh=""><h1 data-css-187qpze="">Validations</h1><section data-css-163h4rl=""><p data-css-bo9myk="">Validations consist of 4 parts. A <code data-css-1qxqrcx="">name</code>, an <code data-css-1qxqrcx="">isValid</code> function and an error and a hint message.</p><p data-css-bo9myk="">You may omit defining a hint message in which case the error message will be passed as <code data-css-1qxqrcx="">hintMessage</code> to the <code data-css-1qxqrcx="">renderField</code> function.</p></section><section data-css-163h4rl=""><h2 data-css-1div3xm="">Define a validation</h2><p data-css-bo9myk="">Validations are passed to the <a data-css-1q5pvju="" href="/docs/reform-context/"><code data-css-1qxqrcx="">ReformContext</code></a> component. This is where you assign a name to a validation. Have a look at this example to know how it works:</p><pre data-css-1jwdnnb=""><code>import React, {Component} from &#x27;react&#x27;
import {render} from &#x27;react-dom&#x27;
import {ReformContext, createTheme} from &#x27;react-reform&#x27;

const defaultTheme = createTheme(...)

const validations = {
  validUserName: {
    isValid: val =&gt; /#\W+(-\W+)*/.test(val),
    errorMessage: () =&gt; &#x27;is not a valid username&#x27;,
    hintMessage: () =&gt; &#x27;may contain letters, digits, underscores and dashes&#x27;
  },
  maxLength: {
    isValid: (val, {arg}) =&gt; (val || &#x27;&#x27;).toString().length &lt;= arg,
    errorMessage: (val, {arg}) =&gt; {
      const currLength = (val || &#x27;&#x27;).toString().length
      return `maximal length: ${currLength}/${arg}`
    },
    hintMessage: (val, {arg}) =&gt; &#x27;may contain letters at most ${arg} chars&#x27;
  }
}

class App extends Component {

  render() {
    return (
      &lt;ReformContext themes={{default: defaultTheme}} validations={validations}&gt;
        &lt;div&gt;
          ...Your App Code...
        &lt;/div&gt;
      &lt;/ReformContext&gt;
    )
  }
}

render(&lt;App/&gt;, document.getElementById(&#x27;root&#x27;))</code></pre><p data-css-bo9myk="">The two validations <code data-css-1qxqrcx="">validUserName</code> and <code data-css-1qxqrcx="">maxLength</code> may be used within inputs when prefixing either <code data-css-1qxqrcx="">is-</code> or <code data-css-1qxqrcx="">has-</code>:</p><pre data-css-1jwdnnb=""><code>&lt;Form onSubmit={this.handleSubmit}&gt;
  &lt;Text name=&quot;name&quot; is-validUserName/&gt;
  &lt;Textarea name=&quot;about&quot; has-maxLength={140}/&gt;
&lt;/Form&gt;</code></pre></section><section data-css-163h4rl=""><h2 data-css-1div3xm="">isValid: <code data-css-1qxqrcx="">(val, data, revalidateFn) =&gt; (true|false|string)</code></h2><p data-css-bo9myk="">This function determines whether a given input is valid or not. You may also return something else than <code data-css-1qxqrcx="">true</code> or <code data-css-1qxqrcx="">false</code> in case you have more states like e.g. <code data-css-1qxqrcx="">&quot;pending&quot;</code>. But be aware that submitting a form will only suceed if all inputs&#x27; validations return <code data-css-1qxqrcx="">true</code>.</p><h3 data-css-13d4kty=""><code data-css-1qxqrcx="">val</code></h3><p data-css-bo9myk="">Contains the current value of the input.</p><h3 data-css-13d4kty=""><code data-css-1qxqrcx="">data.arg</code></h3><p data-css-bo9myk="">You may add options to a validation like <code data-css-1qxqrcx="">&lt;Text name=&quot;content&quot; has-maxLength={140}/&gt;</code> or even <code data-css-1qxqrcx="">&lt;Textarea name=&quot;username&quot; is-unique={{attribute: &#x27;name&#x27;, label: &#x27;this better be a unique name&#x27;}}/&gt;</code>. You can access the passed prop value via this field.</p><h3 data-css-13d4kty=""><code data-css-1qxqrcx="">data.getValue(fieldName)</code></h3><p data-css-bo9myk="">In case you want to access other field&#x27;s values use this function. Imagine an input like <code data-css-1qxqrcx="">&lt;Text name=&quot;passwordRepeat&quot; has-sameValueAs=&quot;password&quot;/&gt;</code>, a useful implementation would be:</p><pre data-css-1jwdnnb=""><code>{
  isValid: (val, {arg, getValue}) =&gt; val === getValue(arg),
  ...
}</code></pre><h3 data-css-13d4kty=""><code data-css-1qxqrcx="">revalidateFn</code></h3><p data-css-bo9myk="">When dealing with asynchronous validatoins, you need to tell React Reform to revalidate the input once a result gets back to you. Use this function to do exactly this. See the section below for a full example.</p></section><section data-css-163h4rl=""><h2 data-css-1div3xm="">hintMessage/errorMessage: <code data-css-1qxqrcx="">(val, data) =&gt; (string|React element)</code></h2><p data-css-bo9myk="">Use this to define two types of messages for your validation. The <code data-css-1qxqrcx="">hintMessage</code> is optional and the <code data-css-1qxqrcx="">errorMessage</code>&#x27;s output will be used in the <code data-css-1qxqrcx="">renderField</code> function</p><h3 data-css-13d4kty=""><code data-css-1qxqrcx="">val</code></h3><p data-css-bo9myk="">Contains the current value of the input.</p><h3 data-css-13d4kty=""><code data-css-1qxqrcx="">data.arg</code></h3><p data-css-bo9myk="">Same as <code data-css-1qxqrcx="">isValid</code>&#x27;s <code data-css-1qxqrcx="">data.arg</code> described above.</p><h3 data-css-13d4kty=""><code data-css-1qxqrcx="">data.name</code></h3><p data-css-bo9myk="">Contains the name of the field.</p></section><section data-css-163h4rl=""><h2 data-css-1div3xm="">Asynchronous validation</h2><p data-css-bo9myk="">It&#x27;s also possible to define asynchronous validations. The API is rather similar. But rather than defining a validation description like above we&#x27;re using a <i>function</i> returning a validation description:</p><pre data-css-1jwdnnb=""><code>const validations = {
  unique: () =&gt; {
    const cachedResults = {}
    return {
      isValid: (val, data, askAgain) =&gt; {
        if (!val) return true
        if (cachedResults[val] === undefined) {
          cachedResults[val] = &#x27;pending&#x27;
          setTimeout(() =&gt; {
            cachedResults[val] = Math.random() &gt; 0.5
            askAgain()
          }, 1000)
        }
        return cachedResults[val]
      },
      errorMessage: (val, {arg}) =&gt; `has to be unique. But &#x27;${val}&#x27; isn&#x27;t`
    }
  }
}</code></pre><p data-css-bo9myk="">This function gets invoked once the input is mounted. This means that the <code data-css-1qxqrcx="">cachedResults</code> variable is unique for each input using this validation.</p><p data-css-bo9myk="">As you can see we&#x27;re doing any real request but simulate this via <code data-css-1qxqrcx="">setTimeout</code>. We fill the cache with a value and return this value on any subsequent validation request. Once we receive the proper value, we&#x27;re calling the third argument of the <code data-css-1qxqrcx="">isValid</code> function, indicating that we&#x27;d like to be asked again, whether the input is valid.</p></section><div data-css-1psjutm="">React Reform is brought to you by <a data-css-17m7gag="" href="https://www.codecks.io">Codecks</a>. Suggest edits for these pages on <a data-css-17m7gag="" href="https://github.com/codecks-io/react-reform/tree/master/doc-engine/src/pages">GitHub</a></div></div></div></div></div><script async src=/main-7ac58.js type="text/javascript"></script><script type="text/javascript">(function(){var a=document.createElement("link");a.rel="stylesheet";a.href="/main-5c0074321fc801cf42c1f4447d96bc6e.css";(document.getElementsByTagName("head")[0]).appendChild(a)})();</script>
  </body>
</html>
